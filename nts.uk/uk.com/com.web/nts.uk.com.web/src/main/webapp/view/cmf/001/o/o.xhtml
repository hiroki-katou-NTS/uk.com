<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition>
		<!-- O 受入設定選択 -->
		<div class="contentO">
			<div class="step-1">
				<div class="label" style="margin-bottom: 15px;">#{i18n.getText('CMF001_436')}</div>
				<table style="margin-bottom: 15px; margin-left: 20px">
					<tr>
						<td style="padding-right: 20px;">
							<!--O5＿1 システム種類（ラベル）-->
							<div class="label">#{i18n.getText('CMF001_442')}</div>
						</td>
						<td>
							<!--O5_2 システム種類選択-->
							<div id="cbbSysType" tabindex="3"
								data-bind="ntsComboBox: {
									name: '#[CMF001_443]', 
									options: listSysType,
									optionsValue: 'code',
									visibleItemsCount: 5,
									value: selectedSysType,
									optionsText: 'name',
									columns: [
										{ prop: 'name', length: 10 }
									]}"></div>
						</td>
					</tr>
				</table>
				<table style="width: 100%;">
					<tr>
						<td rowspan="2" style="width: 460px;">
							<div class="" style="width: 460px; float: left;">
								<!--O4_1 条件設定選択(パネル)-->
								<div
									data-bind="ntsPanel:{width: '425px', height: '325px', direction: 'none', showIcon: true, visible: true}">
									<div class="valign-center control-group cf">
										<!--O4_2 コード/名称-->
										<div class="pull-left"
											data-bind="ntsFormLabel: {text: '#{i18n.getText('CMF001_438')}'}"></div>
										<!--O4_3 絞り込み検索-->
										<div class="pull-left" tabindex="2" style="width: 335px"
											data-bind="ntsSearchBox: {
											searchMode: 'filter', 
											targetKey: 'dispConditionSettingCode', 
											comId: 'grd_Condition', 
											items: listCondition, 											
											fields: ['dispConditionSettingCode', 'dispConditionSettingName'], 
											mode: 'igGrid'}" />
									</div>
									<!--O4_4 条件設定一覧-->
									<table id="grd_Condition"
										data-bind="ntsGridList: {											
											rows: 10,
											name: '#[CMF001_439]', 
				 							dataSource: listCondition,
											primaryKey: 'dispConditionSettingCode',
				 							columns: [
												{ headerText: '#{i18n.getText('CMF001_440')}', key: 'dispConditionSettingCode', width: 40, formatter: _.escape },
												{ headerText: '#{i18n.getText('CMF001_441')}', key: 'dispConditionSettingName', width: 365, formatter: _.escape }
											], 
											multiple: false,
											value: selectedConditionCd}">
									</table>
								</div>
							</div>
						</td>
						<td style="vertical-align: top">
							<!--O5_3 取込情報パネル-->
							<div class="panel panel-frame"
								style="margin-left: 20px; height: 100%">
								<table style="width: 100%">
									<colgroup>
										<col width="120px" />
										<col width="40px" />
										<col />
									</colgroup>
									<tr>
										<td style="padding: 10px 0px">
											<!--O5_4 条件コード/名称-->
											<div class="label">#{i18n.getText('CMF001_444')}</div>
										</td>
										<td>
											<!--O5_5 条件コード-->
											<div class="label" data-bind="text: selectedConditionCd"></div>
										</td>
										<td>
											<!--O5_6 条件名称-->
											<span class="limited-label" style="width: 220px; vertical-align: middle;" data-bind="text: selectedConditionName"></span>
										</td>
									</tr>
									<tr>
										<td>
											<!--O5_7 受入ファイル-->
											<div data-bind="ntsFormLabel: {required: true }">#{i18n.getText('CMF001_445')}</div>
										</td>
										<td colspan="2">
											<!--O5_8 受入ファイルアップロード-->
											<div id="file-upload" class="form_step0" tabindex="4"
												style="display: inline-block;"
												data-bind="ntsFileUpload:{
													stereoType: 'csvfile',
													name: '#[CMF001_446]', 
													text: '#{i18n.getText('CMF001_447')}',
													filename: fileName,
													accept: ['.csv'],			
													aslink: false,
													enable: true,
													required: true,
													immediateUpload: true,
													uploadFinished: uploadFile}">
											</div>
										</td>
									</tr>
									<tr>
										<td></td>
										<td colspan="2">
											<label style ="position:relative; top: -7px;">#{i18n.getText('CMF001_146')}</label>									
											<div style="display: inline-table; margin-left: 5px;"  
													data-bind="ntsComboBox: {
													options: encodingList,
													optionsValue: 'value',
													value: selectedEncoding,
													optionsText: 'name',
													editable: false,
													enable: true,
													columns: [
														{ prop: 'name', length: 5}]}">
											</div>
										</td>
									</tr>
								</table>
							</div>
						</td>
					</tr>
					<tr>
						<td style="vertical-align: bottom; padding-left: 20px;">
							<!--O6_1 ←処理を選びなおす-->
							<button id="O6_1" class="large" data-bind="click: gotoA"
								tabindex="5">#{i18n.getText('CMF001_448')}</button> <!--O6_2 次へ→-->
							<button class="proceed x-large" tabindex="6"
								style="margin-left: 10px" data-bind="click: gotoP">#{i18n.getText('CMF001_449')}</button>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</ui:composition>
</body>
</html>