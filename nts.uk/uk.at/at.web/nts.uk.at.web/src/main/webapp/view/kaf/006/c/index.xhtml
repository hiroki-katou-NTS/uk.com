<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
    <ui:composition template="../../../../master/dialog.xhtml">
        <ui:define name="htmlHead">
            <script>var dialogSize = { width: 650, height: 585 };</script>
            <com:scriptfile set="IGNITE" />
            <com:ValidatorScript>
                nts.uk.ctx.at.request.dom.application.AppReason
            </com:ValidatorScript>
            <com:scriptfile path="/view/kaf/000/a/component6/kaf000.a.component6.js" />
            <com:scriptfile path="/view/kaf/000/shr/kaf000.shr.vm.js" />
            <com:scriptfile path="/view/kaf/006/shr/component3/kaf006.a.component3.js" />
            <com:scriptfile path="kaf006.c.service.js" />
            <com:scriptfile path="kaf006.c.vm.js" />
            <com:stylefile path="kaf006.c.css" />
            <com:stylefile path="/view/kaf/000/a/component6/kaf000.a.component6.css" />
            <com:stylefile path="/view/kaf/006/shr/component3/kaf006.a.component3.css" />
        </ui:define>
        
        <ui:define name="content">
            <!-- <div id="functions-area-bottom">
				<button tabindex="2" class="x-large proceed" data-bind="click: register">#{i18n.getText('KAF006_1')}</button>
				<button tabindex="3" data-bind="click: closeDialog">#{i18n.getText('KAF006_84')}</button>
            </div> -->
            <div id="contents-area" style="margin: 0 10px">
                <div id="kaf-006-c" class="control-group valign-center">
                    <!-- C1_1 -->
                    <div class="label">#{i18n.getText('KAF006_81')}</div>
                    <div class="table" style="margin: 5px 0">
                        <!-- C2_1 -->
                        <div class="cell col-1" style="vertical-align: middle; width: 100px;" data-bind="ntsFormLabel: {required: true}">#{i18n.getText('KAF006_8')}</div>
                        <div class="cell valign-center">
                            <!-- C2_2 -->
                            <div class="inline" data-bind="ntsCheckBox: { 
                                checked: dispMultDate, 
                                text: '#{i18n.getText('KAF006_12')}' }"></div>
                            <!-- C2_3 -->
                            <div class="inline" data-bind="visible: !dispMultDate()">
                                <div id="appDate" data-bind="ntsDatePicker: {name: '#{i18n.getText('KAF006_8')}',
                                                            required:true,
                                                            value: appDate }">
                                    </div>
                            </div>
                            <div class="inline" data-bind="visible: dispMultDate">
                                <div id="dateRange" data-bind="ntsDateRangePicker: { 
                                    required: true, 
                                    enable: true,
                                    showNextPrevious: false, 
                                    value: dateRange, 
                                    name: '#{i18n.getText('KAF006_8')}' }"></div>
                            </div>
                        </div>
                    </div>
                    <div class="table" style="margin: 5px 0" data-bind="visible: dispListReasons">
                        <!-- C3_1 -->
                        <div class="cell col-1" style="vertical-align: middle; width: 103px;" data-bind="ntsFormLabel: { required: requireLabel1 }">#{i18n.getText('KAF006_24')}</div>
                        <!-- C3_2 -->
                        <div id="reasonLst" class="cell valign-center" data-bind="ntsComboBox: { 
                            required: requireLabel1, 
                            enable: true, 
                            visibleItemsCount: 5, 
                            options: reasonLst, 
                            optionsValue: 'appStandardReasonCD', 
                            value: selectedReason, 
                            optionsText: 'reasonForFixedForm', 
                            name: '#{i18n.getText('KAF006_24')}'
                         }"></div>
                    </div>
                    <div class="table" style="margin: 5px 0" data-bind="visible: dispReason">
                        <!-- C4_1 -->
                        <div class="cell col-1" style="vertical-align: top; width: 110px;">
                            <div data-bind="ntsFormLabel: { 
                                required: requireLabel2, 
                                constraint: 'AppReason' }">#{i18n.getText('KAF006_26')}</div>
                        </div>
                        <!-- C4_2 -->
                        <div class="cell valign-center">
                            <textarea id="reasonTxt" style="height: 120px;" data-bind="ntsMultilineEditor: { 
                                required: requireLabel2,
                                constraint: 'AppReason', 
                                name: '#{i18n.getText('KAF006_26')}', 
                                value: appReason,
                                option: { width: '350' } }" ></textarea>
                        </div>
                    </div>
                    <!-- <div  style="margin: 5px 0" data-bind="component: { name: 'kaf006-c-component3', 
                                                                        params: {
                                                                            appType: appType,
                                                                            application: application,
                                                                            appDispInfoStartupOutput: appDispInfoStartupOutput
                                                                        } }"></div> -->
                    <div id="listApproverRootState" class="table" data-bind="if: approvalRootState().length != 0">
                        <div style="margin-top: -1px; overflow: auto;">
                            <div class="cell" id="label-1">
                                <div class="cell valign-center" data-bind="ntsFormLabel: {}, text: $i18n('KAF000_37')"></div>
                            </div>
                            <div class="cell" id="table-1">
                                <table class="table-phase">
                                    <thead>
                                        <tr class="bg-gray">
                                            <th style="width: 111px; border: 1px solid white; text-align: center; height: 25px; background-color: white;"></th>
                                            <th style="width: 111px; border: 1px solid white; text-align: center; height: 25px; background-color: white;"></th>
                                            <th style="width: 230px; border: 1px solid white; text-align: center; height: 25px;" data-bind="text: $i18n('KAF000_3')"></th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: { data: approvalRootState, as: 'loopPhase' }">
                                        <com:ko-foreach bind="{data: loopPhase.listApprovalFrame, as: 'loopFrame'}">
                                            <com:ko-foreach bind="{data: loopFrame.listApprover, as: 'loopApprover'}">
                                            <tr>
                                                <com:ko bind="$vm.isFirstIndexFrame(loopPhase, loopFrame, loopApprover)" tag="if">
                                                    <td data-bind="attr: {rowspan: ko.pureComputed(function() { return $vm.frameCount(loopPhase.listApprovalFrame())}) }" 
                                                    style="width: 81px; border: 1px solid white; text-align: center; height: 25px;" class="bg-gray">
                                                        <p style="height: 25px;" data-bind="text: $vm.getPhaseLabel(loopPhase.phaseOrder())"></p>
                                                    </td>
                                                </com:ko>
                                                <td style="width: 73px; border: 1px solid white; text-align: center; height: 25px;" class="bg-gray">
                                                    <p style="height: 25px;" data-bind="text: $vm.getApproverLabelByIndex()"></p>
                                                </td>
                                                <td style="width: 275px; border: 1px solid white; text-align: center; height: 25px;">
                                                    <p class="limited-label" style="width: 270px; text-align: left; padding-left: 5px; vertical-align: middle; height: 25px;"
                                                        data-bind="text: ko.pureComputed(function() { return $vm.getApproverAtr(loopApprover)})">
                                                    </p>
                                                </td>
                                            </tr>
                                            </com:ko-foreach>
                                        </com:ko-foreach>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="functions-area-bottom">
				<button tabindex="2" class="x-large proceed" data-bind="click: register">#{i18n.getText('KAF006_1')}</button>
				<button tabindex="3" data-bind="click: closeDialog">#{i18n.getText('KAF006_84')}</button>
            </div>
        </ui:define>
    </ui:composition>
</body>
</html>