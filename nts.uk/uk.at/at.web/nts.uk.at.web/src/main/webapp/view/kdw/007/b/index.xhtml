<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">

<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<script>
				var dialogSize = {
					width : 1020,
					height : 315
				};
			</script>
			<com:ValidatorScript>
				nts.uk.shr.com.time.TimeWithDayAttr
				nts.uk.ctx.at.record.dom.workrecord.erroralarm.primitivevalue.CheckedTimeDuration
				nts.uk.ctx.at.record.dom.workrecord.erroralarm.primitivevalue.CheckedTimesValue
 			</com:ValidatorScript>
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="kdw007.b.style.css" />
			<com:scriptfile path="kdw007.b.start.js" />
			<com:scriptfile path="kdw007.b.vm.js" />
			<com:scriptfile path="kdw007.b.service.js" />
		</ui:define>

		<ui:define name="content">
			<div id="contents-area">
			    <table class="table-template">
				      <col width="100"/>
                      <col width="300"/>
                      <col width="260"/>
                      <col width="300"/>
                      <tr>
                      	<td><div data-bind="ntsFormLabel: {required: true }">#{i18n.getText('KDW007_93')}</div></td>
                      	<td>
                      		<div id="conditionAtr-cbb" data-bind="ntsComboBox: {
												options: enumConditionAtr,
												optionsValue: 'code',
												value: currentAtdItemCondition.conditionAtr,
												optionsText: 'name',
												enable: true,
												columns: [
													{ prop: 'name', length: 5 },
												]}"></div>
                      	</td>
                      	<td>
                      		<div data-bind="ntsFormLabel: {required: true }">#{i18n.getText('KDW007_94')}</div>
                      		<div data-bind="ntsRadioBoxGroup: {
												options: enumConditionType,
												optionsValue: 'code',
												optionsText: 'name',
												value: currentAtdItemCondition.conditionType,
												enable: true}"></div>
                      	</td>
                      	<td>
                      	</td>
                      </tr>
                       <tr>
                      	 <td><div data-bind="ntsFormLabel: {required: true }">#{i18n.getText('KDW007_95')}</div></td>
						 <td>
						 	<div data-bind="ntsFormLabel: {required: true }">#{i18n.getText('KDW007_96')}</div>
						 	<button data-bind="click: openSelectAtdItemDialogTarget">#{i18n.getText('KDW007_73')}</button>
						 	<input id="display-target-item" class="display-list-label need-check" data-bind="ntsTextEditor: {
						 	name: '#[KDW007_101]',
						 	value: displayTargetAtdItems, 
						 	readonly: true, 
						 	required: true}" />
						 </td>
						 <td>
						 	<div id="compareOperator-cbb" data-bind="ntsComboBox: {
												options: enumCompareOperator,
												optionsValue: 'code',
												value: currentAtdItemCondition.compareOperator,
												optionsText: 'name',
												enable: true,
												visibleItemsCount: 4,
												columns: [
													{ prop: 'name', length: 18 },
												]}"></div>
						 </td>
						 <td>
						 	<com:ko-if bind="currentAtdItemCondition.conditionType() == 1">
							 	<div data-bind="ntsFormLabel: {required: true }">#{i18n.getText('KDW007_96')}</div>
							 	<button data-bind="click: openSelectAtdItemDialogComparison">#{i18n.getText('KDW007_73')}</button>
							 	<input id="display-compare-item" class="display-list-label need-check" data-bind="ntsTextEditor: {
											 	value: displayCompareAtdItems, 
											 	readonly: true, 
											 	required: currentAtdItemCondition.conditionType() == 1
										 	}" />
						 	</com:ko-if>
						 	<com:ko-if bind="currentAtdItemCondition.conditionType() == 0">
							 	<div data-bind="ntsFormLabel: {required: true }">#{i18n.getText('KDW007_99')}</div>
							 	<com:ko-if bind="currentAtdItemCondition.conditionAtr() == 0 || currentAtdItemCondition.conditionAtr() == 3">
								 	<input id="startValue" class="value-input needcheck" data-bind="ntsNumberEditor: {name: '#[KDW007_75]', value: currentAtdItemCondition.compareStartValue, required: true, constraint: 'CheckedTimesValue'}" />
								 	<input id="endValue" class="value-input needcheck" data-bind="ntsNumberEditor: {
						 						name: '#[KDW007_76]', 
						 						value: currentAtdItemCondition.compareEndValue,
												enable: currentAtdItemCondition.compareOperator() > 5,
												required: currentAtdItemCondition.conditionType() == 0,
												constraint: 'CheckedTimesValue'
											}" />
						 		</com:ko-if>
						 		<com:ko-if bind="currentAtdItemCondition.conditionAtr() == 1">
								 	<input id="startValue" class="value-input needcheck" data-bind="ntsTimeEditor: {
								 				value: currentAtdItemCondition.compareStartValue,
								 				name: '#[KDW007_75]',
								 				constraint: 'CheckedTimeDuration',
								 				inputFormat: 'time',
								 				mode: 'time',
								 				required: currentAtdItemCondition.conditionType() == 0
						 					}" />
								 	<input id="endValue" class="value-input needcheck" data-bind="ntsTimeEditor: {value: currentAtdItemCondition.compareEndValue, 
																					 	enable: currentAtdItemCondition.compareOperator() > 5, 
																					 	name: '#[KDW007_76]', 
								 														constraint: 'CheckedTimeDuration',  
																					 	inputFormat: 'time',
																					 	mode: 'time', 
																					 	required: currentAtdItemCondition.conditionType() == 0}" />
						 		</com:ko-if>
						 		<com:ko-if bind="currentAtdItemCondition.conditionAtr() == 2">
								 	<input id="startValue" class="value-input needcheck" data-bind="ntsTimeWithDayEditor: { 
								 		name: '#[KDW007_75]', 
								 		constraint:'TimeWithDayAttr', 
										value: currentAtdItemCondition.compareStartValue, 
										required: currentAtdItemCondition.conditionType() == 0 }" />
									<input id="endValue" class="value-input needcheck" data-bind="ntsTimeWithDayEditor: { 
								 		name: '#[KDW007_76]', 
								 		constraint:'TimeWithDayAttr', 
										value: currentAtdItemCondition.compareEndValue, 
										required: currentAtdItemCondition.conditionType() == 0,
										enable: currentAtdItemCondition.compareOperator() > 5 }" />
								</com:ko-if>
						 	</com:ko-if>
						 </td>
                      </tr>
                </table>
			</div>
			<div id="functions-area-bottom">
				<button class="proceed" data-bind="click: returnData, enable: $root.errors.isEmpty">#{i18n.getText('KDW007_97')}</button>
				<button data-bind="click: closeDialog">#{i18n.getText('KDW007_98')}</button>
			</div>
			
		</ui:define>

	</ui:composition>
</body>
</html>