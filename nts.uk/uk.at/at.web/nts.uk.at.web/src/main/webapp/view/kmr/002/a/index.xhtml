<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/base.xhtml">
		<ui:define name="htmlHead">
			<com:scriptfile set="IGNITE" />
			<com:ValidatorScript>
				nts.uk.ctx.at.record.dom.reservation.bento.BentoReservationCount
			</com:ValidatorScript>
			<com:scriptfile path="kmr002.a.service.js" />
			<com:scriptfile path="kmr002.a.vm.js" />
			<com:scriptfile path="kmr002.a.start.js" />
			<com:stylefile path="kmr002.a.style.css" />
		</ui:define>

		<ui:define name="content">
			<div id="functions-area">
				<button class="proceed large"
					data-bind="click: register, enable: modeFuture() &amp;&amp; $root.errors.isEmpty">#{i18n.getText('KMR002_16')}</button>
				<a style="margin-left: 300px;" class="goout" data-bind="ntsLinkButton: { action: toKMR005 }">#{i18n.getText('KMR002_4')}</a>
			</div>
			<div id="contents-area">
				<div class="table" style="margin-left: 15px; margin-bottom: 10px;">
					<div class="cell">
						<span>#{i18n.getText('KMR002_17')}</span>
					</div>
					<div class="cell">
						<div style="padding-left: 20px;" id="dateSelect" data-bind="ntsDatePicker: { 
									name: '#[KMR002_17]',
									value: date,
									required: true }">
						</div>
					</div>
				</div>
				<div class="table" style="margin-left: 15px; margin-bottom: 10px;">
					<div class="cell">
						<div data-bind="ntsSwitchButton: {
									name: '#[KMR002_18]',
									options: frameOption,
									optionsValue: 'frameNo',
									optionsText: 'receptionHours.receptionName',
									value: currentFrameNo,
									required: true }">
						</div>
					</div>
					<div class="cell" style="vertical-align: middle; padding-left: 20px;">
						<span data-bind="text: timeLabel"></span>
					</div>
				</div>
				<div class="table" style="margin-left: 15px; margin-bottom: 10px;">
					<div class="cell" data-bind="if: currentFrameNo()==1">
						<table class="kmr002-table">
							<thead>
								<tr>
									<th style="padding-left: 5px; width: 85px;" class="bg-green">#{i18n.getText('KMR002_20')}</th>
									<th style="padding-left: 5px; width: 85px;" class="bg-green">#{i18n.getText('KMR002_21')}</th>
									<th style="text-align: center; width: 255px;" class="bg-green">#{i18n.getText('KMR002_22')}</th>
									<th style="padding-left: 5px; width: 125px;" class="bg-green">#{i18n.getText('KMR002_23')}</th>
								</tr>
							</thead>
							<tbody
								data-bind="foreach: bentoFrame1List">
								<tr>
									<td style="padding-left: 5px; width: 85px;" data-bind="text: name"></td>
									<td style="text-align: right; padding-right: 5px; width: 85px;" data-bind="text: amount1"></td>
									<td style="padding: 5px; width: 245px;">
										<div style="display: inline-block; vertical-align: middle;">
											<button class="button-radius" data-bind="click: decreaseCount, 
													enable: $parent.modeFuture() &amp;&amp; $parent.canOrder()">-</button>
										</div>
										<div style="display: inline-block; vertical-align: middle;" data-bind="attr: { class: 'bento-count-' + frameNo() }">
											<input style="width: 25px;" data-bind="ntsNumberEditor: {
												name: '#[KMR002_22]',
												value: bentoCount,
												constraint: 'BentoReservationCount',
												enable: $parent.modeFuture() &amp;&amp; $parent.canOrder() }" />
										</div>
										<div style="display: inline-block; vertical-align: middle;">
											<span data-bind="text: unit"></span>
										</div>
										<div style="display: inline-block; vertical-align: middle;">
											<button class="button-radius" data-bind="click: increaseCount, 
													enable: $parent.modeFuture() &amp;&amp; $parent.canOrder()">+</button>
										</div>
										<div style="display: inline-block; vertical-align: middle;">
											<button class="danger large" style="width: 70px;" 
													data-bind="click: resetCount, 
													enable: $parent.modeFuture() &amp;&amp; $parent.canOrder() &amp;&amp; enableResetCount()">#{i18n.getText('KMR002_26')}</button>
										</div>
									</td>
									<td style="text-align: right; padding-right: 5px; width: 125px;" data-bind="text: sum()"></td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<td colspan="2" style="padding-left: 5px; width: 176px;">#{i18n.getText('KMR002_27')}</td>
									<td style="text-align: center; width: 255px;">
										<span data-bind="text: countAllFrame1"></span>
										<span data-bind="text: unitAllFrame1"></span>
									</td>
									<td style="text-align: center; width: 130px;">
										<span data-bind="text: priceAllFrame1"></span>
										<span>#{i18n.getText('KMR002_30')}</span>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>
					<div class="cell" data-bind="if: currentFrameNo()==2">
						<table class="kmr002-table">
							<thead>
								<tr>
									<th style="padding-left: 5px; width: 85px;" class="bg-green">#{i18n.getText('KMR002_20')}</th>
									<th style="padding-left: 5px; width: 85px;" class="bg-green">#{i18n.getText('KMR002_21')}</th>
									<th style="text-align: center; width: 255px;" class="bg-green">#{i18n.getText('KMR002_22')}</th>
									<th style="padding-left: 5px; width: 125px;" class="bg-green">#{i18n.getText('KMR002_23')}</th>
								</tr>
							</thead>
							<tbody
								data-bind="foreach: bentoFrame2List">
								<tr>
									<td style="padding-left: 5px; width: 85px;" data-bind="text: name"></td>
									<td style="text-align: right; padding-right: 5px; width: 85px;" data-bind="text: amount1"></td>
									<td style="padding: 5px; width: 245px;">
										<div style="display: inline-block; vertical-align: middle;">
											<button class="button-radius" data-bind="click: decreaseCount, 
													enable: $parent.modeFuture() &amp;&amp; $parent.canOrder()">-</button>
										</div>
										<div style="display: inline-block; vertical-align: middle;" data-bind="attr: { class: 'bento-count-' + frameNo() }">
											<input style="width: 25px;" data-bind="ntsNumberEditor: {
												value: bentoCount,
												constraint: 'BentoReservationCount',
												enable: $parent.modeFuture() &amp;&amp; $parent.canOrder() }" />
										</div>
										<div style="display: inline-block; vertical-align: middle;">
											<span data-bind="text: unit"></span>
										</div>
										<div style="display: inline-block; vertical-align: middle;">
											<button class="button-radius" data-bind="click: increaseCount, 
													enable: $parent.modeFuture() &amp;&amp; $parent.canOrder()">+</button>
										</div>
										<div style="display: inline-block; vertical-align: middle;">
											<button class="danger large" style="width: 70px;" 
													data-bind="click: resetCount, 
													enable: $parent.modeFuture() &amp;&amp; $parent.canOrder() &amp;&amp; enableResetCount()">#{i18n.getText('KMR002_26')}</button>
										</div>
									</td>
									<td style="text-align: right; padding-right: 5px; width: 125px;" data-bind="text: sum()"></td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<td colspan="2" style="padding-left: 5px; width: 176px;">#{i18n.getText('KMR002_27')}</td>
									<td style="text-align: center; width: 255px;">
										<span data-bind="text: countAllFrame2"></span>
										<span data-bind="text: unitAllFrame2"></span>
									</td>
									<td style="text-align: center; width: 130px;">
										<span data-bind="text: priceAllFrame2"></span>
										<span>#{i18n.getText('KMR002_30')}</span>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>