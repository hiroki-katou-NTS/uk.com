<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:com="http://xmlns.jcp.org/jsf/component"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <body>
        <ui:composition template="/master/base.xhtml">
            <ui:define name="htmlHead">
                <com:scriptfile set="IGNITE"/>
<!--                 
                <com:scriptfile path="/view/kcp/share/list.js" of="/nts.uk.com.web"/>
                <com:scriptfile path="/view/kcp/share/tree.js" of="/nts.uk.com.web"/>
                <com:stylefile path="/view/ccg/share/style.css" of="/nts.uk.com.web"/>
                <com:scriptfile path="/view/ccg/share/ccg.service.js" of="/nts.uk.com.web"/>
                <com:scriptfile path="/view/ccg/share/ccg.vm.js" of="/nts.uk.com.web"/> -->
                <com:stylefile path="./kmr003.b.style.css"/>
                <com:scriptfile path="./kmr003.b.vm.js"/>
                <com:ValidatorScript>
                    nts.uk.ctx.at.record.dom.reservation.bento.BentoReservationCount
                </com:ValidatorScript>
            </ui:define>
            <ui:define name="content">
                <div id="functions-area">
                    <!-- B1_1 -->
                    <!-- <button class="proceed goback" data-bind="click: backToA">#{i18n.getText('KMR003_41')}</button> -->
                    <a class="goback link-button" style="background-color: #f1fdfb;height: 30px !important;" data-bind="click: backToA, text: $i18n('KMR003_41')">#{i18n.getText('KMR003_41')}</a>
                    <!-- B1_2 -->
                    <button data-bind="click: createNew, text: $i18n('KMR003_42'), enable: condition3() &amp;&amp; !isDateError()"></button>
                    <!-- B1_3 -->
                    <button class="proceed" data-bind="click: register, text: $i18n('KMR003_43'), enable: condition3() &amp;&amp; condition5() &amp;&amp; hasErrorsGrid() &amp;&amp; !disableAllRow() &amp;&amp; $root.errors.isEmpty"></button>
                </div>
                <div id="contents-area">
                    <div class="table" style="margin-left: 30px;">
                        <!-- B2_1 -->
                        <div class="cell valign-center" style="width: 120px;">
                            <div data-bind="ntsFormLabel: {
                                required: true, 
                                text: $i18n('KMR003_39')
                            }"></div>
                        </div>
                        <!-- B2_2 -->
                        <div class="cell valign-center">
                            <div data-bind="ntsDatePicker: {
                                name: '#{i18n.getText('KMR003_39')}',
                                required:true,
                                value: date,
                                dateFormat: 'YYYY/MM/DD',
                                fiscalMonthsMode: true,
                                showJumpButtons: true
                            }"></div>
                        </div>
                        <!-- B2_3 -->
                        <div class="cell valign-center">
                            <div style="margin-left: 15px;" data-bind="ntsSwitchButton: {
                                name: '#{i18n.getText('KMR003_14')}',
                                options: receptionNames,
                                optionsValue: 'id',
                                optionsText: 'name',
                                value: selectedReception,
                                required: true,
                                enable: true }"></div>
                        </div>
                        <!-- B2_4 -->
                        <div class="cell valign-center">
                            <div data-bind="text: closingTime" style="margin-left: 15px;"></div>
                        </div>
                        <!-- B2_5 -->
                        <div class="cell valign-center">
                            <div style="margin-left: 20px;" data-bind="ntsComboBox: {
                                name: '#{i18n.getText('KMR003_44')}',
                                options: extractionConditions,
                                optionsValue: 'id',
                                visibleItemsCount: 5,
                                value: selectedCondition,
                                optionsText: 'name',
                                editable: false,
                                enable: true,
                                required: true,
                                selectFirstIfNull: true}"></div>
                        </div>
                    </div>
                    <!-- B3 -->
                    <div class="table" style="margin-left: 30px;">
                        <button class="danger" data-bind="click: clear, text: $i18n('KMR003_45'), enable: condition4()"></button>
                    </div>
                    <div style="margin: 10px 30px;">
                        <div id="grid"></div>
                    </div>
                </div>
            </ui:define>
        </ui:composition>
    </body>
</html>