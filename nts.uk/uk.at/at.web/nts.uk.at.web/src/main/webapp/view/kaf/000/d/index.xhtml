<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<script>
				var dialogSize = {
					width : 860,
					height : 275
				};
			</script>
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="/view/kaf/000/d/kaf000.d.css" />
			<com:scriptfile path="/view/kaf/000/d/kaf000.d.vm.js" />
		</ui:define>
		<ui:define name="content">
			<div id="contents-area">
				<div id="kaf000-d">
	                <div id="listApproverRootState" class="table" data-bind="if: approvalRootState().length != 0">
	                	<table class="table-phase">
	                		<tbody>
			                    <tr class="bg-green">
			                        <th style="width: 81px;"></th>
			                        <th style="width: 73px;"></th>
			                        <th style="width: 275px;" data-bind="text: $i18n('KAF000_3')"></th>
			                        <th style="width: 85px;" data-bind="text: $i18n('KAF000_29')"></th>
			                        <th style="width: 135px;" data-bind="text: $i18n('KAF000_42')"></th>
			                        <th style="width: 165px;" data-bind="text: $i18n('KAF000_30')"></th>
			                    </tr>
			                </tbody>
	                	</table>
	                	<div style="margin-top: -1px; overflow: auto; height: 131px; width: 838px;">
				            <table class="table-phase">
				                <tbody data-bind="foreach: { data: approvalRootStateConvert, as: 'loopPhase' }">
				                    <com:ko-foreach bind="{data: loopPhase.listApprovalFrame, as: 'loopFrame'}">
				                        <com:ko-foreach bind="{data: loopFrame.listApprover, as: 'loopApprover'}">
				                        <tr>
				                            <com:ko bind="$vm.isFirstIndexFrame(loopPhase, loopFrame, loopApprover)" tag="if">
				                                <td data-bind="attr: {rowspan: ko.pureComputed(function() { return $vm.frameCount(loopPhase.listApprovalFrame())}) }" 
				                                style="width: 81px;" class="bg-green">
				                                	<p style="height: 25px;" data-bind="text: $vm.getPhaseLabel(loopPhase.phaseOrder())"></p>
				                                </td>
				                            </com:ko>
				                            <td style="width: 73px;" class="bg-green">
				                                <p style="height: 25px;" data-bind="text: $vm.getApproverLabelByIndex()"></p>
				                           	</td>
				                            <td style="width: 275px;">
				                                <p class="limited-label" style="width: 270px; text-align: left; padding-left: 5px; vertical-align: middle; height: 25px;"
				                                    data-bind="text: ko.pureComputed(function() { return $vm.getApproverAtr(loopApprover)})">
				                                </p>
				                            </td>
				                            <td >
				                                <p class="limited-label"
				                                style="width: 85px; vertical-align: middle; height: 25px;"
				                                data-bind="style: { 'color': $vm.getApprovalColor(loopApprover.approvalAtrValue()) }, text: loopApprover.approvalAtrName"></p>
				                            </td>
				                            <td >
				                                <p class="limited-label"
				                                style="width: 130px; text-align: left; padding-left: 5px; vertical-align: middle; height: 25px;"
				                                data-bind="text: $vm.getApprovalDateFormat(loopApprover)"></p>
				                            </td>
				                            <td style="width: 165px;">
			                            		<p style="text-align: left; padding-left: 5px; vertical-align: middle; word-break: break-all; word-wrap: break-word;"
			                                		data-bind="html: $vm.getApprovalReason(loopApprover.approvalReason())"></p>
				                            </td>
				                        </tr>
				                        </com:ko-foreach>
				                    </com:ko-foreach>
				                </tbody>
				            </table>
			            </div>
				    </div>
				</div>
			</div>
			<div id="functions-area-bottom">
				<button id="closeDialogD" data-bind="click: close">#{i18n.getText('KAF000_36')}</button>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>