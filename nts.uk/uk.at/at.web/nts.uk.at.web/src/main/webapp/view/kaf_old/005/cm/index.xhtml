<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition>
		<div data-bind="let: { $vm: $data }" style="width: 1200px;">
			<div data-bind="if: indicationOvertimeFlg() &amp;&amp; isNotAgentMode()">
				<div class="cf valign-center control-group"
					data-bind="style: {padding: '10px 10px 10px 12px'}"
					style="margin-left: -2px; background: #f8efd4; width: 780px;">
					<!--A2_7 時間外労働ラベル-->
					<div class="pull-left">#{i18n.getText('KAF005_23')}</div>
					<div class="pull-left">
						<table id="kaf005_overtimeAgreement_table">
							<colgroup>
								<col width="85px" />
								<col width="70px" />
								<col width="70px" />
								<col width="70px" />
								<col width="70px" />
							</colgroup>
							<thead>
								<tr>
									<!--A2_9 年月ラベル-->
									<th class="kaf005_overtimeAgreement_header">#{i18n.getText('KAF005_24')}</th>
									<!--A2_10  限度ラベル-->
									<th class="kaf005_overtimeAgreement_header">#{i18n.getText('KAF005_25')}</th>
									<!--A2_11 実績ラベル-->
									<th class="kaf005_overtimeAgreement_header">#{i18n.getText('KAF005_26')}</th>
									<!--A2_12  申請ラベル-->
									<th class="kaf005_overtimeAgreement_header"
										style="display: none">#{i18n.getText('KAF005_27')}</th>
									<!--A2_13  合計ラベル-->
									<th class="kaf005_overtimeAgreement_header"
										style="display: none">#{i18n.getText('KAF005_28')}</th>
								</tr>
							</thead>
							<tbody data-bind="foreach: overtimeWork">
								<tr>
									<!--A2_14 年月ラベル-->
									<td
										data-bind="text: yearMonth, style: { 'background-color': backgroundColor, 'color': textColor }"></td>
									<!--A2_15  限度ラベル-->
									<td
										data-bind="text: limitTime, style: { 'background-color': backgroundColor, 'color': textColor }"></td>
									<!--A2_16 実績ラベル-->
									<td
										data-bind="text: actualTime, style: { 'background-color': backgroundColor, 'color': textColor }"></td>
									<!--A2_17  申請ラベル-->
									<td style="display: none"
										data-bind="text: appTime, style: { 'background-color': backgroundColor, 'color': textColor }"></td>
									<!--A2_18  合計ラベル-->
									<td style="display: none"
										data-bind="text: totalTime, style: { 'background-color': backgroundColor, 'color': textColor }"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<!--LEFT CONTENTS -->
			<div class="left-contents">
				<div class="cf valign-center control-group"
					data-bind="visible: !employeeFlag()">
					<!--A3_1 申請者-->
					<div class="lblTitle cm-column" data-bind="ntsFormLabel: {}">#{i18n.getText('KAF005_29')}</div>
					<!--A3_2 申請者表示氏名-->
					<label class="lblEmployeeName fix-margin-left"
						data-bind="text : employeeName"></label>

				</div>
				<div class="cf valign-top control-group"
					data-bind="visible: employeeFlag()">
					<!--A3_1 申請者-->
					<div class="lblTitle cm-column" data-bind="ntsFormLabel: {}">#{i18n.getText('KAF005_29')}</div>
					<!--A3_2 申請者表示氏名-->
					<div id="list-box" class="fix-margin-left"
						data-bind="ntsListBox: {
							options: employeeList,
							optionsValue: 'id',
							optionsText: 'name',
							multiple:false,
							value: selectedEmplCodes,
							enable: true,
							rows: 3,
							columns: [
								{ key: 'name',length: 11 }
							]}">
					</div>
				</div>
				<div class="cf valign-center control-group"
					data-bind="visible: employeeFlag()">
					<div class="cm-column"></div>
					<!--A3_9 申請者表示氏名-->
					<label style="margin-left: 139px;" data-bind="text : totalEmployee"></label>
				</div>
				<div class="valign-center control-group"
					data-bind="if: displayPrePostFlg">

					<!--A3_3 事前事後ラベル-->
					<div class="lblTitle cm-column"
						data-bind="ntsFormLabel:{ required: true }">#{i18n.getText('KAF005_30')}</div>
					<div data-bind="if: screenModeNew" style="display: inline-block;">
						<!--A3_4 事前事後スイッチ-->
						<div tabindex="5" class="cf fix-margin-left"
							id="kaf005-pre-post-select"
							data-bind="ntsSwitchButton: {name: '#{i18n.getText('KAF005_31')}',
									options:ko.observableArray([
							                { prePostCode: 0, prePostName: '#{i18n.getText('KAF009_9')}' },
							                { prePostCode: 1, prePostName: '#{i18n.getText('KAF009_10')}' }
							                ]),
									optionsValue: 'prePostCode',
									optionsText: 'prePostName',
									value: prePostSelected,
									enable: prePostEnable,
									required: true }">
						</div>
					</div>
					<div data-bind="if: !screenModeNew()"
						style="display: inline-block;">
						<span class="label fix-margin-left-kaf005"
							data-bind="text: prePostSelected()==0 ? '#{i18n.getText('KAF009_9')}' : '#{i18n.getText('KAF009_10')}'"></span>
					</div>
				</div>
				<div class="valign-center control-group">
					<!--A3_5 申請日-->
					<div class="lblTitle cm-column"
						data-bind="ntsFormLabel:{required: true}">#{i18n.getText('KAF005_32')}</div>
					<div data-bind="if: screenModeNew" style="display: inline-block;">
						<!--A3_6 申請日入力-->
						<div tabindex="6" id="inputdate" class="fix-margin-left"
							data-bind="ntsDatePicker: {name: '#{i18n.getText('KAF005_33')}',required:true, value: appDate, dateFormat: 'YYYY/MM/DD'}, acceptJapaneseCalendar: true"></div>
					</div>
					<div data-bind="if: !screenModeNew()"
						style="display: inline-block;">
						<span class="label fix-margin-left-kaf005"
							data-bind="text: appDate"></span>
					</div>
				</div>
				<div data-bind="if: displayCaculationTime">
					<!--Work Change-->
					<div class="table" data-bind="visible : typeSiftVisible()">
						<div class="cell valign-center" style="width: 105px;">
							<!--A4_1 勤務種類ラベル-->
							<div class="valign-center control-group"
								data-bind="ntsFormLabel:{required: true}">#{i18n.getText('KAF005_34')}</div>
							<BR />
							<!--A4_4 就業時間ラベル-->
							<div class="valign-center control-group"
								data-bind="ntsFormLabel:{required: true}">#{i18n.getText('KAF005_35')}</div>
						</div>
						<div class="cell valign-top" data-bind="if: workTypeChangeFlg"
							style="width: 25px;">
							<!--A4_7 選択ボタン-->
							<button tabindex="7" class="workSelect"
								data-bind="enable: $vm.editable,click : openDialogKdl003">#{i18n.getText('KAF005_36')}</button>
						</div>
						<div class="cell valign-center">
							<div class="valign-center control-group">
								<!--A4_2 勤務種類コード-->
								<label class="lblWorkTypeCd" data-bind="text: workTypeCd"></label>
								<!--A4_3 勤務種類名称-->
								<LABEL data-bind="text: workTypeName"></LABEL>
							</div>
							<div class="valign-center control-group">
								<!--A4_5 就業時間コード-->
								<label class="lblSiftCd" data-bind="text: siftCD"></label>
								<!--A4_6 就業時間名称-->
								<LABEL data-bind="text: siftName"></LABEL>
							</div>
						</div>
					</div>
					<!--勤務時間 1-->
					<div class="valign-center control-group">
						<div class="table">
							<div class="cell valign-top cm-column2">
								<!--A4_8 勤務時間ラベル-->
								<div class="lblTitle" data-bind="ntsFormLabel: {required: true}"
									style="margin-right: 16px">#{i18n.getText('KAF005_37')}</div>
							</div>
							<div class="cell valign-center">
								<div>
									<!--A4_9 勤務時間From1-->
									<input tabindex="8"
										class="row-cell-margin inputTime-kaf005 right-content"
										id="inpStartTime1"
										data-bind="ntsTimeWithDayEditor: { name: '#[KAF005_333]', constraint:'TimeWithDayAttr',value: timeStart1, enable: $vm.editable, readonly: false, required: true }" />
									<!--A4_10 ~1-->
									<label class="valign-center link-label-kaf005">#{i18n.getText('KAF005_38')}</label>
								</div>
							</div>
							<div class="cell valign-center">
								<div class="row-cell-margin">
									<!--A4_11 勤務時間To1-->
									<input tabindex="9" id="inpEndTime1"
										class="right-content inputTime-kaf005"
										data-bind="ntsTimeWithDayEditor: {name: '#[KAF005_334]', constraint:'TimeWithDayAttr', value: timeEnd1, enable: $vm.editable, readonly: false, required: true}" />
								</div>
							</div>
						</div>
					</div>

				</div>
				<div class="cf valign-top control-group"
					data-bind="if: displayCaculationTime() &amp; restTimeDisFlg()">
					<!--A5_1 休憩時間ラベル-->
					<div class="cm-column" style="display: inline-block;">
						<div class="lblTitle pull-left" data-bind="ntsFormLabel: {}">#{i18n.getText('KAF005_40')}</div>
					</div>
					<div class="table-time">
						<table id="fixed-table">
							<colgroup>
								<col width="109px" />
								<col width="115px" />
								<col width="115px" />
							</colgroup>
							<thead>
								<tr>
									<th class="ui-widget-header" rowspan="2"></th>
									<!--A5_3 開始ラベル-->
									<th class="ui-widget-header" rowspan="2">#{i18n.getText('KAF005_41')}</th>
									<!--A5_4 終了ラベル-->
									<th class="ui-widget-header" rowspan="2">#{i18n.getText('KAF005_42')}</th>
								</tr>
							</thead>
							<tbody data-bind="foreach: restTime">
								<tr>
									<!--A5_5 休憩時間順序-->
									<td class="header" data-bind="text: frameName"></td>
									<!--A5_6 開始時刻-->
									<td><input tabindex="12" class="right-content"
										data-bind="attr: { id: 'restTimeStart_'+attendanceID()+'_'+frameNo()}, 
								ntsTimeWithDayEditor: {
									name: '#[KAF005_337]', 
									value: startTime, 
									constraint:'TimeWithDayAttr', 
									enable: false,
									option: {width: '85px', timeWithDay: true}}" /></td>
									<!--A5_7 終了時刻-->
									<td><input tabindex="12" class="right-content"
										data-bind="attr: { id: 'restTimeEnd_'+attendanceID()+'_'+frameNo()}, 
								ntsTimeWithDayEditor: {
									name: '#[KAF005_338]', 
									value: endTime, 
									constraint:'TimeWithDayAttr', 
									enable: false,
									option: {width: '85px', timeWithDay: true}}" /></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div data-bind="if: displayCaculationTime">
					<!--A5_8 計算ボタン-->
					<button data-bind="click: CaculationTime, enable: $vm.editable"
						tabindex="14" style="margin: 15px 0px 10px 290px;"
						class="caret-bottom">#{i18n.getText('KAF005_43')}</button>
				</div>
				<div class="cf valign-top control-group cell" style="margin-top:0px !important">
					<!--A6_1 残業時間ラベル-->
					<div class="cm-column" style="display: inline-block;">
						<div class="lblTitle pull-left"
							data-bind="ntsFormLabel: {required: true}">#{i18n.getText('KAF005_50')}</div>
					</div>
					<div class="table-time" id="overtime-container">
						<table id="fixed-overtime-hour-table">
							<colgroup>
								<col width="110px" />
								<col width="110px" />
								<col width="110px" />
								<col width="110px" />
							</colgroup>
							<thead>
								<tr>
									<th class="ui-widget-header" rowspan="2"></th>
									<!--A6_3 申請時間ラベル-->
									<th class="ui-widget-header" rowspan="2">#{i18n.getText('KAF005_51')}</th>
									<!--A6_4 事前申請ラベル-->
									<th class="ui-widget-header" rowspan="2">#{i18n.getText('KAF005_52')}</th>
									<!--A6_6 実績時間ラベル-->
									<th class="ui-widget-header" rowspan="2">#{i18n.getText('KAF005_54')}</th>
								</tr>
							</thead>
							<tbody data-bind="foreach: overtimeHours">
								<tr>
									<!--A6_7 残業時間名称-->
									<td class="header"
										data-bind="attr: { id: 'overtimeHoursHeader_'+attendanceID()+'_'+frameNo()}, text: frameName"></td>
									<!--A6_8 残業申請時間入力-->
									<td
										data-bind="attr: { id: 'overtimeHoursCheck_'+attendanceID()+'_'+frameNo()}, style: { 'background-color' : color }">
										<input tabindex="15" class="right-content overtimeHoursCheck"
										data-bind="attr: { id: 'overtimeHoursCheck_'+attendanceID()+'_'+frameNo()}, style: { 'background-color' : color }, 
								ntsTimeEditor: {
									name: nameID, 
									value: applicationTime, 
									option: {width: '80px'}, 
									inputFormat: 'time', 
									mode: 'time',
									constraint:'OvertimeAppPrimitiveTime',
									enable: $parent.enableOvertimeInput() &amp;&amp; $parent.editable() }" />
									</td>
									<!--A6_9 残業事前申請時間-->
									<td class="right-content" data-bind="text: preAppTime"></td>
									<!--A6_11 実績時間-->
									<td class="right-content" data-bind="text: caculationTime"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<!--定型理由 -->
				<div class="valign-center control-group overlay-reason" style="margin-top:40px !important"
					data-bind="if: typicalReasonDisplayFlg">
					<!--A9_1 定型理由ラベル-->
					<div class="lblTitle cm-column"
						data-bind="ntsFormLabel:{required: requiredReason}">#{i18n.getText('KAF005_86')}</div>
					<!--A9_2 定型理由選択-->
					<div tabindex="18" class="combo-box" style="width: 390px"
						data-bind="ntsComboBox: {name: '#[KAF005_87]', 
								options: reasonCombo,
								optionsValue: 'reasonId',
								optionsText: 'reasonName',
								value: selectedReason,
								enable: $vm.editable,
								dropDownAttachedToBody: true,
								columns: [{ prop: 'reasonName', length: 20 }]}">
					</div>
				</div>
				<!-- 申請理由（ラベル) -->
				<div class="cf valign-top control-group"
					data-bind="if: isShowReason()">
					<!--A9_3 申請理由ラベル-->
					<div class="lblTitle cm-column"
						data-bind="ntsFormLabel: {required: requiredReason}">#{i18n.getText('KAF005_88')}</div>
					<!--A9_4 申請理由入力-->
					<div id="multiline">
						<textarea tabindex="19" id="appReason" class="textarea-kaf005"
							data-bind="ntsMultilineEditor: {name: '#[KAF005_89]', 
								value: multilContent,
								option: {
									resizeable: false,
			                    	width: '500'
			                   	},
			                   	enable:displayAppReasonContentFlg() &amp;&amp; $vm.editable()
							}" />
					</div>
				</div>
				<!-- 乖離定型理由 -->
				<div class="valign-center control-group overlay-reason"
					data-bind="if: displayDivergenceReasonForm() &amp;&amp; prePostSelected()==1">
					<!--A9_5 乖離定型理由ラベル-->
					<div class="lblTitle cm-column" data-bind="ntsFormLabel:{}">#{i18n.getText('KAF005_90')}</div>
					<!--A9_6 乖離定型理由選択-->
					<div tabindex="20" class="combo-box"
						data-bind="ntsComboBox: {name: '#[KAF005_91]', 
								options: reasonCombo2,
								optionsValue: 'reasonId',
								optionsText: 'reasonName',
								value: selectedReason2,
								enable: $vm.editable,
								dropDownAttachedToBody: true,
								columns: [{ prop: 'reasonName', length: 10 }]}">
					</div>
				</div>
				<!--  乖離理由（ラベル) -->
				<div class="cf valign-top control-group"
					data-bind="if: displayDivergenceReasonInput() &amp;&amp; prePostSelected()==1">
					<!--A9_7 乖離理由ラベル-->
					<div class="lblTitle cm-column" data-bind="ntsFormLabel: {}">#{i18n.getText('KAF005_92')}</div>
					<!--A9_8 乖離理由入力-->
					<div id="multiline">
						<textarea tabindex="21" id="divergenceReason"
							class="textarea-kaf005"
							data-bind="ntsMultilineEditor: {name: '#[KAF005_93]', 
								value: multilContent2,
								option: {
									resizeable: false,
			                    	width: '500',
			                    	required: requiredReason2()
			                   	},
			                   	enable: $vm.editable
							}" />
					</div>
				</div>
				<!-- Footer -->
				<div data-bind="if: screenModeNew()">
					<div class="lstApprover" data-bind="with: kaf000_a">
						<ui:include src="../../000/a/index2_New.xhtml" />
						<BR />
					</div>
				</div>
				<div id="appr" data-bind="if: !screenModeNew()">
					<ui:include src="../../000/b/index1.xhtml" />
				</div>
				<!-- end footer -->
			</div>
			<!--RIGHT CONTENT -->
			<div class="right-contents panel" style="background-color: #E7E6E6;"
				data-bind="visible: isRightContent">
				<label data-bind="visible: referencePanelFlg">#{i18n.getText('KAF005_99')}</label>
				<BR data-bind="visible: referencePanelFlg" />
				<HR data-bind="visible: referencePanelFlg" style="width: 250px;" align="left"></HR>
				<div class="panel panel-gray-bg panel-frame"
					data-bind="visible: referencePanelFlg" style="margin-top: 2px">
					<div class="control-group">
						<!--A11_4 申請者-->
						<label>#{i18n.getText('KAF005_100')} :</label>
						<!--A11_5 申請者表示氏名-->
						<label data-bind="text : appDateReference"></label>
					</div>
					<div class="control-group">
						<!--A11_6 申請者-->
						<label>#{i18n.getText('KAF005_101')} :</label>
						<!--A11_7 実績勤務種類コード-->
						<label data-bind="text : workTypeCodeReference"></label>
						<!--A11_8 実績勤務種類名称 -->
						<label data-bind="text : workTypeNameReference"></label>
					</div>
					<div class="control-group">
						<!--A11_9 申請者-->
						<label>#{i18n.getText('KAF005_102')} :</label>
						<!--A11_10  申請者表示氏名-->
						<label data-bind="text : siftCodeReference"></label>
						<!--A11_11-->
						<label data-bind="text : siftNameReference"></label>
					</div>
					<div class="control-group">
						<!--A11_12 申請者-->
						<label>#{i18n.getText('KAF005_103')} :</label>
						<!--A11_13 申請者表示氏名-->
						<label data-bind="text : workClockFrom1To1Reference"></label>
					</div>
					<div class="control-group"
						data-bind="foreach: overtimeHoursReference">
						<div class="control-group">
							<!--A11_16-->
							<label data-bind="text : frameName"></label>
							<!--A11_17-->
							<label data-bind="text : applicationTime"></label>
						</div>
					</div>
					<div class="control-group" data-bind="if: appOvertimeNightFlg">
						<!--A11_24申請者-->
						<label>#{i18n.getText('KAF005_109')} :</label>
						<!--A11_25 申請者表示氏名-->
						<label data-bind="text : overTimeShiftNightRefer"></label>
					</div>
					<div class="control-group" data-bind="if: flexFLag">
						<!--A11_26 申請者-->
						<label>#{i18n.getText('KAF005_110')} :</label>
						<!--A11_27 申請者表示氏名-->
						<label data-bind="text : flexExessTimeRefer"></label>
					</div>
				</div>
				<!-- A12_2 -->
				<label data-bind="visible: allPreAppPanelFlg()">#{i18n.getText('KAF005_120')}</label>
				<BR data-bind="visible: allPreAppPanelFlg()"/>
				<HR data-bind="visible: allPreAppPanelFlg()" style="width: 250px;" align="left"></HR>
				<div class="panel panel-gray-bg panel-frame control-group"
					data-bind="visible: allPreAppPanelFlg()">					
					<!--A12_3-->
					<div>
						<label data-bind=" if: !(preAppPanelFlg())"
							style="margin-left: 7px">#{i18n.getText('KAF005_121')}</label>
						<div data-bind=" if: preAppPanelFlg()">
							<div class="control-group">
								<!--A12_4 申請者-->
								<label>#{i18n.getText('KAF005_122')} :</label>
								<!--A12_5 申請者表示氏名-->
								<label data-bind="text : appDatePre"></label>
							</div>
							<div class="control-group">
								<!--A12_6-->
								<label>#{i18n.getText('KAF005_123')} :</label>
								<!--A12_7 -->
								<label data-bind="text : workTypeCodePre"></label>
								<!--A12_8-->
								<label data-bind="text : workTypeNamePre"></label>
							</div>
							<div class="control-group">
								<!--A12_9-->
								<label>#{i18n.getText('KAF005_124')} :</label>
								<!--A12_10-->
								<label data-bind="text : siftCodePre"></label>
								<!--A12_11-->
								<label data-bind="text : siftNamePre"></label>
							</div>
							<div class="control-group">
								<!--A12_12 -->
								<label>#{i18n.getText('KAF005_125')} :</label>
								<!--A12_13-->
								<label data-bind="text : workClockFrom1To1Pre"></label>
							</div>

							<div class="control-group" data-bind="foreach: overtimeHoursPre">
								<!--A12_24-->
								<label data-bind="text : frameName"></label>
								<!--A12_25-->
								<label data-bind="text : applicationTime"></label> <BR />
							</div>
							<div class="control-group" data-bind="if: appOvertimeNightFlg">
								<!--A12_24-->
								<label>#{i18n.getText('KAF005_131')} :</label>
								<!--A12_25-->
								<label data-bind="text : overTimeShiftNightPre"></label>
							</div>
							<div class="control-group" data-bind="if: flexFLag">
								<!--A12_26-->
								<label>#{i18n.getText('KAF005_132')} :</label>
								<!--A12_27-->
								<label data-bind="text : flexExessTimePre"></label>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</ui:composition>
</body>
</html>