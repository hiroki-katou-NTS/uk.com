<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<com:ValidatorScript>
				nts.uk.ctx.at.schedule.dom.budget.external.actualresult.ExtBudgetMoney
				nts.uk.ctx.at.schedule.dom.budget.external.actualresult.timeunit.ExtBudgetTime
				nts.uk.ctx.at.schedule.dom.budget.external.actualresult.ExtBudgetNumberPerson
				nts.uk.ctx.at.schedule.dom.budget.external.actualresult.ExtBudgetNumericalVal
			</com:ValidatorScript>
			<script type='text/javascript'>
				var dialogSize = {
					width : 440,
					// height : 495
					height : 520
				};
			</script>
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="ksu001.q.main.css" />
			<com:scriptfile path="ksu001.q.service.js" />
			<com:scriptfile path="ksu001.q.vm.js" />
			<com:scriptfile path="ksu001.q.start.js" />
			<com:scriptfile path="../common/ksu001.js" />

		</ui:define>
		<ui:define name="content">
			<div id="functions-area">
				<button class="proceed" tabindex="1"
					data-bind="click: register, enable: $root.errors.isEmpty">#{i18n.getText('KSU001_3702')}</button>
				<button id="close" tabindex="3"
					data-bind="click: closeDialog">#{i18n.getText('KSU001_3703')}</button>
			</div>
			<div id="content-area" style="width: 430px">
				<div id="left-content">
					<div>
						<div data-bind=""></div>
					</div>
					<div>
						<div>
							<div class="label"
								style="margin-left: 30px; margin-top: 10px; width: 60%;">
								<span data-bind="text: organizationName"></span>
							</div>
						</div>
						<hr />
						<div style="display: flex;">
							<div style="margin-left: 40px; margin-top: 10px"
								data-bind="ntsFormLabel: {}">#{i18n.getText('KSU001_3704')}</div>
							<div tabindex="4" style="margin-left: 20px; margin-top: 15px"
								data-bind="ntsComboBox: {
										options: externalBudgetModel().externalBudgetItems,
										optionsValue: 'code',
										value: selectItemCode,
										optionsText: 'name',
										enable: true,
										editable: false,
										required: true,
										width: 265,
										visibleItemsCount: 10,
										columns: [
											{ prop: 'code', length: 1 },
											{ prop: 'name', length: 1 },
											{ prop: 'attribute', length: 1 },
											{ prop: 'unit', length: 1 }
										]}"></div>
						</div>
						<div style="display: flex;">
							<div style="margin-left: 40px; margin-top: 10px"
								data-bind="ntsFormLabel: {}">#{i18n.getText('KSU001_3705')}</div>
							<div style="margin-left: 20px; margin-top: 15px">
								
								<table>
									<thead>
										<tr>
											<th style="font-weight: bold;"><pre>#{i18n.getText('KSU001_3706')}</pre></th>
											<th style="font-weight: bold;" data-bind="text: labelQ32"></th>
										</tr>
									</thead>
									<tbody data-bind="foreach: listperiods">
										<tr data-bind="if: date() != ''">
											<td style="background-color: #d9d9d9;" data-bind="text: date"></td>
											<td  
												data-bind="visible: $parent.check, with: $parent.yearmontheditor"><input id ="extBudgetTime"
												style="padding: 0px 2px 0px 0px; border: 0px solid #999999; width: 121px; height: 24px; border-radius: 0px;"
												data-bind="ntsTimeEditor: {
													name: '#[KSU001_3707]',
													value: $parent.value,
													constraint: 'ExtBudgetTime',
													option: option,
													required: false,
													enable: true,
													inputFormat: 'time',
													mode: 'time',
													readonly:  $parent.date() == '' }" /></td>										
											<td 
												data-bind="visible: $parent.check1, with: $parent.currencyeditor"><input id = "extBudgetMoney"
												style="text-align: right; border: 0px solid #999999; width: 121px; height: 24px; border-radius: 0px;"
												data-bind="ntsNumberEditor: {
													name: '#[KSU001_3708]',
													value: $parent.value,
													constraint: 'ExtBudgetMoney',
													option: option,
													required: false,
													enable: true,
													readonly: $parent.date() == '' }" /></td>													
											<td 
												data-bind="visible: $parent.check2, with: $parent.numbereditor"><input id = "extBudgetNumberPerson"
												style="padding: 0px 2px 0px 0px; border: 0px solid #999999; width: 121px; height: 24px; border-radius: 0px;"
												data-bind="ntsNumberEditor: {
													name: '#[KSU001_3709]',
													value: $parent.value,
													constraint: 'ExtBudgetNumberPerson',
													option: option,
													required: false,
													enable: true,
													readonly: $parent.date() == '' }" /></td>
											<td 
												data-bind="visible: $parent.check3, with: $parent.numbereditor"><input id = "extBudgetNumericalVal"
												style="padding: 0px 2px 0px 0px; border: 0px solid #999999; width: 121px; height: 24px; border-radius: 0px;"
												data-bind="ntsNumberEditor: {
													name: '#[KSU001_3710]',
													value: $parent.value,
													constraint: 'ExtBudgetNumericalVal',
													option: option,
													required: false,
													enable: true,
													readonly: $parent.date() == '' }" /></td>
										</tr>
										<tr data-bind="if: date() == ''" >
											<td style="border: none; background-color: #F1F1F1 !important;" colspan="2"></td>
											<!-- <td style="border: none; background-color: #F1F1F1;"></td> -->
										</tr>
									</tbody>								
								</table>
							</div>
						</div>						
					</div>
				</div>

			</div>
		</ui:define>
	</ui:composition>
</body>

</html>